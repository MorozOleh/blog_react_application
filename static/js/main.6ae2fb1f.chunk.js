(this["webpackJsonpblog-react-aplictation"]=this["webpackJsonpblog-react-aplictation"]||[]).push([[0],{119:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n(11),c=n.n(a),o=n(33),s=n(17),i=n(27),u=n(77),d=n(18),l="posts/GET",p="posts/GET_COMMENTS",b="comment/GET_POST_COMMENTS",f="post/GET_POST",j="modal/SHOW_MODAL",m="modal/HIDE_MODAL",h={fetchedPosts:[]},O={hidden:!1},v={fetchedComments:[]},x=Object(i.combineReducers)({postsReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case l:return Object(d.a)(Object(d.a)({},t),{},{fetchedPosts:e.payload});case f:return Object(d.a)(Object(d.a)({},t),{},{fetchedPosts:t.fetchedPosts.filter((function(t){return t.id===e.payload}))});default:return t}},modalReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j:return{hidden:!0};case m:return{hidden:!1};default:return t}},commentsReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case p:return Object(d.a)(Object(d.a)({},t),{},{fetchedComments:e.payload});case b:return Object(d.a)(Object(d.a)({},t),{},{fetchedComments:t.fetchedComments.filter((function(t){return t.postId===e.payload}))});default:return t}}}),y=n(78),g=Object(i.createStore)(x,Object(u.composeWithDevTools)(Object(i.applyMiddleware)(y.a))),w=(n(96),n(152)),k=n(7),S=n.n(k),C=n(15),N=n(21),I=n.n(N),T="https://bloggy-api.herokuapp.com/posts",E=function(){var t=Object(C.a)(S.a.mark((function t(){var e,n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.get(T);case 2:return e=t.sent,n=e.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),R=function(){return E()},P=function(){var t=Object(C.a)(S.a.mark((function t(e){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",I.a.delete("".concat(T,"/").concat(e)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),_=function(t){return P(t)},z=function(){var t=Object(C.a)(S.a.mark((function t(e){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",I.a.delete("".concat("https://bloggy-api.herokuapp.com/comments","/").concat(e)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M=function(t){return z(t)},D=function(){var t=Object(C.a)(S.a.mark((function t(e){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",I.a.post(T,Object(d.a)({},e)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F=function(t){return D(t)},A=function(){var t=Object(C.a)(S.a.mark((function t(e){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",I.a.post("https://bloggy-api.herokuapp.com/comments",Object(d.a)({},e)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),B=function(t){return A(t)},G=function(){var t=Object(C.a)(S.a.mark((function t(){var e,n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.get("https://bloggy-api.herokuapp.com/comments");case 2:return e=t.sent,n=e.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),L=function(){return G()};function W(){return{type:j}}var H=n(161),J=n(60),U=n(13),V=n(159),q=n(79),K=n.n(q),Q=n(160),X=n(3),Y=Object(w.a)((function(t){return{root:{background:"white",padding:50,borderRadius:15,"& .MuiTextField-root":{margin:t.spacing(1),width:500}},button:{display:"flex",margin:"0 auto"}}}));function Z(){var t=Object(U.e)(),e=new URLSearchParams(t.search).get("_embed"),n=Object(U.f)(),a=Object(s.b)(),c=Object(r.useState)(""),o=Object(J.a)(c,2),i=o[0],u=o[1],d=Object(r.useState)(""),p=Object(J.a)(d,2),b=p[0],f=p[1],j=Y(),h=function(t){var e=t.target,n=e.name,r=e.value;switch(n){case"title":u(r);break;case"body":f(r);break;default:return}};return Object(X.jsxs)("form",{className:j.root,noValidate:!0,autoComplete:"off",onSubmit:function(t){var r,c;(t.preventDefault(),a({type:m}),f(""),e)?a((r={postId:+n.postId,body:b},function(){var t=Object(C.a)(S.a.mark((function t(e){var n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(r);case 2:return t.next=4,L();case 4:n=t.sent,e({type:l,payload:n});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())):(a((c={title:i,body:b},function(){var t=Object(C.a)(S.a.mark((function t(e){var n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(c);case 2:return t.next=4,R();case 4:n=t.sent,e({type:l,payload:n});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),u(""))},children:[!e&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("div",{children:Object(X.jsx)(V.a,{label:"Type your title",id:"filled-size-normal",value:i,name:"title",variant:"filled",onChange:h})}),Object(X.jsx)("div",{children:Object(X.jsx)(V.a,{label:"Type here",id:"filled-size-normal",value:b,name:"body",variant:"filled",onChange:h})})]}),e&&Object(X.jsx)("div",{children:Object(X.jsx)(V.a,{label:"Type comment",id:"filled-size-normal",value:b,name:"body",variant:"filled",onChange:h})}),Object(X.jsx)("div",{children:Object(X.jsx)(Q.a,{className:j.button,variant:"contained",color:"primary",size:"large",type:"submit",startIcon:Object(X.jsx)(K.a,{}),children:"Save"})})]})}var $=Object(w.a)((function(t){return{backdrop:{zIndex:t.zIndex.drawer+1,color:"#fff"}}}));function tt(){var t=$(),e=Object(s.c)((function(t){return t.modalReducer.hidden}));return Object(X.jsx)("div",{children:Object(X.jsx)(H.a,{className:t.backdrop,open:e,children:Object(X.jsx)(Z,{})})})}var et=n(156),nt=n(54),rt=n.n(nt),at=n(157),ct=n(158),ot=Object(w.a)((function(t){return{root:{minWidth:275},title:{fontSize:14},pos:{marginBottom:12},item:{listStyle:"none"},button:{margin:t.spacing(1)}}}));function st(){var t=ot(),e=Object(U.f)(),n=Object(s.b)();Object(r.useEffect)((function(){return n((t=+e.postId,{type:b,payload:t}));var t}),[]);var a=Object(s.c)((function(t){return t.commentsReducer.fetchedComments}));return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("ul",{children:a.map((function(r){return Object(X.jsx)("li",{className:t.item,children:Object(X.jsx)(et.a,{className:t.root,variant:"outlined",children:Object(X.jsxs)(at.a,{children:[Object(X.jsx)(ct.a,{className:t.pos,color:"textSecondary",children:r.body}),Object(X.jsx)(Q.a,{variant:"contained",color:"secondary",className:t.button,startIcon:Object(X.jsx)(rt.a,{}),onClick:function(){return n(function(t){var e=t.id,n=t.postId;return function(){var t=Object(C.a)(S.a.mark((function t(r){var a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(e);case 2:return t.next=4,L();case 4:a=t.sent,r({type:p,payload:a}),r({type:b,payload:n});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({id:r.id,postId:+e.postId}))},children:"Delete"})]})})},r.id)}))}),Object(X.jsx)(Q.a,{variant:"contained",color:"secondary",onClick:function(){return n(W())},children:"Add new post"}),Object(X.jsx)(tt,{})]})}var it=Object(w.a)((function(t){return{root:{minWidth:275},title:{fontSize:14},pos:{marginBottom:12},item:{listStyle:"none"},button:{margin:t.spacing(1)}}}));function ut(t){var e=t.title,n=t.body,r=t.id,a=Object(U.e)(),c=new URLSearchParams(a.search).get("_embed"),i=Object(s.b)(),u=it();return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("li",{className:u.item,children:Object(X.jsx)(et.a,{className:u.root,variant:"outlined",children:Object(X.jsxs)(at.a,{children:[Object(X.jsx)(ct.a,{className:u.title,color:"textSecondary",gutterBottom:!0,children:e}),Object(X.jsx)(ct.a,{className:u.pos,color:"textSecondary",children:n}),Object(X.jsx)(Q.a,{variant:"contained",color:"secondary",className:u.button,startIcon:Object(X.jsx)(rt.a,{}),onClick:function(){return i(function(t){return function(){var e=Object(C.a)(S.a.mark((function e(n){var r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t);case 2:return e.next=4,R();case 4:r=e.sent,n({type:l,payload:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(r))},children:"Delete"}),Object(X.jsx)(o.b,{to:"/".concat(r,"?_embed=comments"),onClick:function(){i(function(t){return{type:f,payload:t}}(r))},children:"Comments"})]})})}),c&&Object(X.jsx)(st,{})]})}var dt=Object(w.a)({button:{margin:"0 auto",display:"block"},list:{margin:0}});var lt=function(){var t=Object(s.b)(),e=dt(),n=Object(s.c)((function(t){return t.postsReducer.fetchedPosts}));return Object(r.useEffect)((function(){t(function(){var t=Object(C.a)(S.a.mark((function t(e){var n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R();case 2:n=t.sent,e({type:l,payload:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t(function(){var t=Object(C.a)(S.a.mark((function t(e){var n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L();case 2:n=t.sent,e({type:p,payload:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]),Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("ul",{className:e.list,children:n.map((function(t){return Object(X.jsx)(ut,{title:t.title,body:t.body,id:t.id},t.id)}))}),Object(X.jsx)(Q.a,{variant:"contained",className:e.button,color:"secondary",onClick:function(){return t(W())},children:"Add new post"}),Object(X.jsx)(tt,{})]})};var pt=function(){return Object(X.jsx)(U.a,{exact:!0,path:"/:postId?",component:lt})};c.a.render(Object(X.jsx)(s.a,{store:g,children:Object(X.jsx)(o.a,{children:Object(X.jsx)(pt,{})})}),document.getElementById("root"))},96:function(t,e,n){}},[[119,1,2]]]);
//# sourceMappingURL=main.6ae2fb1f.chunk.js.map