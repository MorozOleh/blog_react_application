{"version":3,"sources":["redux/types/index.js","redux/reducers/postsReducer.jsx","redux/reducers/modalReducer.jsx","redux/reducers/commentsReducer.jsx","redux/reducers/rootReducer.jsx","redux/store.jsx","API/getPosts.js","API/getComments.js","API/deletePost.js","API/deleteComment.js","API/createPost.js","API/createComment.js","API/putPost.js","redux/actions/actionCreator.jsx","redux/actions/actionModal.jsx","components/Form/FormStyle.js","components/Form/Form.jsx","components/Modal/ModalStyle.js","components/Modal/Modal.jsx","components/Posts/PostsStyle.js","components/Comments/CommentsStyle.js","components/Comments/Comments.jsx","components/Post/PostStyle.js","components/Post/Post.jsx","components/Posts/Posts.jsx","App.js","index.js"],"names":["GET","GET_COMMENTS","GET_POST_COMMENTS","GET_POST","SHOW_MODAL","HIDE_MODAL","initialState","fetchedPosts","hidden","fetchedComments","blogApp","combineReducers","postsReducer","state","action","type","payload","filter","post","id","modalReducer","commentsReducer","comment","postId","store","createStore","composeWithDevTools","applyMiddleware","thunk","BASE_URL","request","a","axios","get","response","data","getPosts","getComments","deleteRequest","delete","deletePost","deleteComment","newPost","createPost","newComment","createComment","put","putPost","fetchPosts","dispatch","fetchPostById","showModal","hideModal","useStyles","makeStyles","theme","root","background","padding","borderRadius","margin","spacing","width","button","display","Form","useState","title","setTitle","body","setBody","location","useLocation","history","useHistory","searchParams","URLSearchParams","search","isOpenComment","isEditPost","match","useParams","useDispatch","classes","onInputsChanged","event","target","name","value","className","noValidate","autoComplete","onSubmit","preventDefault","toast","success","push","addPost","warn","TextField","label","variant","onChange","Button","color","size","startIcon","backdrop","zIndex","drawer","Modal","open","useSelector","Backdrop","list","minWidth","wrapper","flexDirection","alignItems","fontSize","pos","marginBottom","item","listStyle","Comments","comments","map","Card","CardContent","Typography","onClick","responseAllComments","deleteComments","ButtonGroup","aria-label","Post","handleDelete","deletePosts","gutterBottom","component","Link","to","handleComments","editPost","Posts","posts","useEffect","App","exact","path","ReactDOM","render","document","getElementById"],"mappings":"yOAAaA,EAAM,YACNC,EAAe,qBACfC,EAAoB,4BACpBC,EAAW,gBACXC,EAAa,mBACbC,EAAa,mBCHpBC,EAAe,CACnBC,aAAc,ICFVD,EAAe,CACnBE,QAAQ,G,QCAJF,EAAe,CACnBG,gBAAiB,ICGNC,EAAUC,0BAAgB,CACrCC,aHD0B,WAAmC,IAAlCC,EAAiC,uDAAzBP,EAAcQ,EAAW,uCAC5D,OAAQA,EAAOC,MACb,KAAKf,EACH,OAAO,2BACFa,GADL,IAEEN,aAAcO,EAAOE,UAGzB,KAAKb,EACH,OAAO,2BACFU,GADL,IAEEN,aAAcM,EAAMN,aAAaU,QAC/B,SAAAC,GAAI,OAAIA,EAAKC,KAAOL,EAAOE,aAIjC,QACE,OAAOH,IGfXO,aFH0B,WAAmC,IAAlCP,EAAiC,uDAAzBP,EAAcQ,EAAW,uCAC5D,OAAQA,EAAOC,MACb,KAAKX,EACH,MAAO,CACLI,QAAQ,GAGZ,KAAKH,EACH,MAAO,CACLG,QAAQ,GAGZ,QACE,OAAOK,IETXQ,gBDH6B,WAAmC,IAAlCR,EAAiC,uDAAzBP,EAAcQ,EAAW,uCAC/D,OAAQA,EAAOC,MAEb,KAAKd,EACH,OAAO,2BACFY,GADL,IAEEJ,gBAAgB,YAAKK,EAAOE,WAGhC,KAAKd,EACH,OAAO,2BACFW,GADL,IAEEJ,gBAAiBI,EAAMJ,gBAAgBQ,QACrC,SAAAK,GAAO,OAAIA,EAAQC,UAAYT,EAAOE,aAI5C,QACE,OAAOH,M,QEnBAW,EAAQC,sBACnBf,EACAgB,8BACEC,0BAAgBC,O,0DCNPC,EAAW,0CAElBC,EAAO,uCAAG,8BAAAC,EAAA,sEACSC,IAAMC,IAAIJ,GADnB,cACRK,EADQ,OAENC,EAASD,EAATC,KAFM,kBAIPA,GAJO,2CAAH,qDAOAC,EAAW,kBAAMN,KCRxBA,EAAO,uCAAG,8BAAAC,EAAA,sEACSC,IAAMC,IAHP,6CAER,cACRC,EADQ,OAENC,EAASD,EAATC,KAFM,kBAIPA,GAJO,2CAAH,qDAOAE,EAAc,kBAAMP,KCP3BQ,EAAa,uCAAG,WAAOnB,GAAP,SAAAY,EAAA,+EACbC,IAAMO,OAAN,UAAgBV,GAAhB,OAA2BV,KADd,2CAAH,sDAINqB,EAAa,SAAArB,GAAE,OAAImB,EAAcnB,ICJxCmB,EAAa,uCAAG,WAAOnB,GAAP,SAAAY,EAAA,+EACbC,IAAMO,OAAN,UAHQ,4CAGR,YAA4BpB,KADf,2CAAH,sDAINsB,EAAgB,SAAAtB,GAAE,OAAImB,EAAcnB,ICH3CW,EAAO,uCAAG,WAAOY,GAAP,SAAAX,EAAA,+EACPC,IAAMd,KAAKW,EAAX,eAA0Ba,KADnB,2CAAH,sDAIAC,EAAa,SAACD,GAAD,OAAaZ,EAAQY,ICLzCZ,EAAO,uCAAG,WAAOc,GAAP,SAAAb,EAAA,+EACPC,IAAMd,KAHE,4CAGR,eAA0B0B,KADnB,2CAAH,sDAIAC,EAAgB,SAACD,GAAD,OAAgBd,EAAQc,ICH/Cd,EAAO,uCAAG,WAAMX,EAAIuB,GAAV,SAAAX,EAAA,+EACPC,IAAMc,IAAN,UAAajB,GAAb,OAAwBV,GAAxB,eAAmCuB,KAD5B,2CAAH,wDAIAK,EAAU,SAAC5B,EAAIuB,GAAL,OAAiBZ,EAAQX,EAAIuB,ICqB7C,SAASM,IACd,8CAAO,WAAMC,GAAN,eAAAlB,EAAA,sEACkBK,IADlB,OACCF,EADD,OAGLe,EAAS,CACPlC,KAAMf,EACNgB,QAASkB,IALN,2CAAP,sDAUK,SAASgB,EAAc/B,GAC5B,8CAAO,WAAM8B,GAAN,eAAAlB,EAAA,6DACLkB,EAAS,CACPlC,KAAMZ,EACNa,QAASG,IAHN,SAMkBkB,IANlB,OAMCH,EAND,OAQLe,EAAS,CACPlC,KAAMd,EACNe,QAASkB,IAGXe,EAAS,CACPlC,KAAMb,EACNc,QAASG,IAfN,2CAAP,sDCvCK,SAASgC,IACd,MAAO,CACLpC,KAAMX,GAIH,SAASgD,IACd,MAAO,CACLrC,KAAMV,G,8BCRGgD,EAAYC,aAAW,SAACC,GAAD,MAAY,CAC9CC,KAAM,CACJC,WAAY,QACZC,QAAS,GACTC,aAAc,GAEd,uBAAwB,CACtBC,OAAQL,EAAMM,QAAQ,GACtBC,MAAO,MAGXC,OAAQ,CACNC,QAAS,OACTJ,OAAQ,c,iECFL,SAASK,KAAQ,IAAD,EAGKC,mBAAS,IAHd,mBAGdC,EAHc,KAGPC,EAHO,OAIGF,mBAAS,IAJZ,mBAIdG,EAJc,KAIRC,EAJQ,KAMfC,EAAWC,cACXC,EAAUC,cACVC,EAAe,IAAIC,gBAAgBL,EAASM,QAC5CC,EAAgBH,EAAa1C,IAAI,UACjC8C,EAAaJ,EAAa1C,IAAI,QAC9B+C,EAAQC,cACRhC,EAAWiC,cACXC,EAAU9B,IAEV+B,EAAkB,SAACC,GAAW,IAAD,EACTA,EAAMC,OAAtBC,EADyB,EACzBA,KAAMC,EADmB,EACnBA,MAEd,OAAQD,GACN,IAAK,QACHnB,EAASoB,GACT,MAEF,IAAK,OACHlB,EAAQkB,GACR,MAEF,QACE,SAsCN,OACE,wBAAMC,UAAWN,EAAQ3B,KAAMkC,YAAU,EAACC,aAAa,MAAMC,SAnC1C,SAACP,GAIpB,OAHAA,EAAMQ,iBACNvB,EAAQ,IAEJS,GACFe,IAAMC,QAAQ,2CACd9C,GHnCqB9B,GGmCA6D,EAAMzD,OHnCFmB,EGmCU,CAAEyB,QAAOE,QHlChD,uCAAO,WAAMpB,GAAN,eAAAlB,EAAA,sEACCgB,EAAQ5B,EAAIuB,GADb,uBAGkBN,IAHlB,OAGCF,EAHD,OAKLe,EAAS,CACPlC,KAAMf,EACNgB,QAASkB,IAPN,2CAAP,wDGmCIe,EAASG,KACTqB,EAAQuB,KAAK,UACb5B,EAAS,KAKPU,GAAiBT,GACnByB,IAAMC,QAAQ,4CACd9C,GHyCqBL,EGzCD,CAAErB,QAASyD,EAAMzD,OAAQ8C,QH0CjD,uCAAO,WAAMpB,GAAN,iBAAAlB,EAAA,6DACGR,EAAWqB,EAAXrB,OADH,SAECsB,EAAcD,GAFf,uBAImBP,IAJnB,OAIEH,EAJF,OAMLe,EAAS,CACPlC,KAAMd,EACNe,QAASkB,IAGXe,EAAS,CACPlC,KAAMb,EACNc,QAASO,IAbN,2CAAP,6DGzCI0B,EAASG,MAKPe,GAASE,GACXyB,IAAMC,QAAQ,yCACd9C,EHqBC,SAAiBP,GACtB,8CAAO,WAAMO,GAAN,eAAAlB,EAAA,sEACCY,EAAWD,GADZ,uBAEkBN,IAFlB,OAECF,EAFD,OAILe,EAAS,CACPlC,KAAMf,EACNgB,QAASkB,IANN,2CAAP,sDGtBa+D,CAAQ,CAAE9B,QAAOE,UAC1BpB,EAASG,UACTgB,EAAS,UAKX0B,IAAMI,KAAK,8CH5DR,IAAoB/E,EAAIuB,EAsFJE,GGtBvB,WACIkC,GACA,+BACE,eAACqB,GAAA,EAAD,CACEC,MAAM,kBACNjF,GAAG,qBACHqE,MAAOrB,EACPoB,KAAK,QACLc,QAAQ,SACRC,SAAUlB,MAKhB,+BACE,eAACe,GAAA,EAAD,CACEC,MAAQtB,EAEJ,oBADA,wBAGJ3D,GAAG,qBACHqE,MAAOnB,EACPkB,KAAK,OACLc,QAAQ,SACRC,SAAUlB,MAGd,+BACE,eAACmB,GAAA,EAAD,CACEd,UAAWN,EAAQpB,OACnBsC,QAAQ,YACRG,MAAM,UACNC,KAAK,QACL1F,KAAK,SACL2F,UAAW,eAAC,KAAD,IANb,uBC1GD,IAAMrD,GAAYC,aAAW,SAACC,GAAD,MAAY,CAC9CoD,SAAU,CACRC,OAAQrD,EAAMqD,OAAOC,OAAS,EAC9BL,MAAO,YCCJ,SAASM,KACd,IAAM3B,EAAU9B,KACV0D,EAAOC,aAAY,SAAAnG,GAAK,OAAIA,EAAMO,aAAaZ,UAErD,OACE,eAACyG,EAAA,EAAD,CACExB,UAAWN,EAAQwB,SACnBI,KAAMA,EAFR,SAIE,eAAC9C,GAAD,MCbC,IAAMZ,GAAYC,YAAW,CAClCS,OAAQ,CACNH,OAAQ,cACRI,QAAS,SAGXkD,KAAM,CACJtD,OAAQ,KCPCP,GAAYC,aAAW,SAAAC,GAAK,MAAK,CAC5CC,KAAM,CACJ2D,SAAU,KAGZC,QAAS,CACPpD,QAAS,OACTqD,cAAe,SACfC,WAAY,SACZ,QAAS,CACP1D,OAAQL,EAAMM,QAAQ,KAI1BM,MAAO,CACLoD,SAAU,IAEZC,IAAK,CACHC,aAAc,IAEhBC,KAAM,CACJC,UAAW,QAEb5D,OAAQ,CACNH,OAAQL,EAAMM,QAAQ,Q,4DCVnB,SAAS+D,KACd,IAAMzC,EAAU9B,KACVoB,EAAUC,cACVzB,EAAWiC,cACXF,EAAQC,cAER4C,EAAWb,aACf,SAAAnG,GAAK,OAAIA,EAAMQ,gBAAgBZ,mBAQjC,OACE,uCACE,8BACGoH,EAASC,KAAI,SAAAxG,GAAO,OACnB,qBAAqBmE,UAAWN,EAAQuC,KAAxC,SACE,eAACK,GAAA,EAAD,CAAMtC,UAAWN,EAAQ3B,KAAM6C,QAAQ,WAAvC,SACE,gBAAC2B,GAAA,EAAD,WAEE,eAACC,GAAA,EAAD,CAAYxC,UAAWN,EAAQqC,IAAKhB,MAAM,gBAA1C,SACGlF,EAAQ+C,OAGX,eAACkC,GAAA,EAAD,CACEF,QAAQ,YACRG,MAAM,YACNf,UAAWN,EAAQpB,OACnB2C,UAAW,eAAC,KAAD,IACXwB,QAAS,kBAAMjF,ERyB1B,YAAuC,IAAd9B,EAAa,EAAbA,GAAII,EAAS,EAATA,OAClC,8CAAO,WAAM0B,GAAN,eAAAlB,EAAA,sEACCU,EAActB,GADf,uBAE6BkB,IAF7B,OAEC8F,EAFD,OAILlF,EAAS,CACPlC,KAAMd,EACNe,QAASmH,IAGXlF,EAAS,CACPlC,KAAMb,EACNc,QAASO,IAXN,2CAAP,sDQ1BwC6G,CAAe,CACrCjH,GAAIG,EAAQH,GACZI,QAASyD,EAAMzD,WAPnB,0BARGD,EAAQH,SAyBrB,sBAAKsE,UAAWN,EAAQiC,QAAxB,SACE,gBAACiB,GAAA,EAAD,CACE5B,KAAK,QACLD,MAAM,UACN8B,aAAW,sCAHb,UAKE,eAAC/B,GAAA,EAAD,CACE2B,QAAS,kBAAMjF,EAASE,MAD1B,6BAKA,eAACoD,GAAA,EAAD,CACE2B,QA9CS,WACjBzD,EAAQuB,KAAK,KACb/C,EAASD,MA2CH,4BAOJ,eAAC8D,GAAD,OC3EC,IAAMzD,GAAYC,aAAW,SAAAC,GAAK,MAAK,CAC5CC,KAAM,CACJ2D,SAAU,KAGZhD,MAAO,CACLoD,SAAU,IAEZC,IAAK,CACHC,aAAc,IAEhBC,KAAM,CACJC,UAAW,QAEb5D,OAAQ,CACNH,OAAQL,EAAMM,QAAQ,QCJX,SAAS0E,GAAT,GAIX,IAHFpE,EAGC,EAHDA,MACAE,EAEC,EAFDA,KACAlD,EACC,EADDA,GAEMoD,EAAWC,cAEXM,EADe,IAAIF,gBAAgBL,EAASM,QACf5C,IAAI,UACjCgB,EAAWiC,cACXC,EAAU9B,KACVoB,EAAUC,cAWV8D,EAAe,SAACrH,GACpB8B,EVyBG,SAAqB9B,GAC1B,8CAAO,WAAM8B,GAAN,eAAAlB,EAAA,sEACCS,EAAWrB,GADZ,uBAEkBiB,IAFlB,OAECF,EAFD,OAILe,EAAS,CACPlC,KAAMf,EACNgB,QAASkB,IANN,2CAAP,sDU1BWuG,CAAYtH,IACrBsD,EAAQuB,KAAK,MAGf,OACE,uCACE,qBAAIP,UAAWN,EAAQuC,KAAvB,SACE,eAACK,GAAA,EAAD,CAAMtC,UAAWN,EAAQ3B,KAAM6C,QAAQ,WAAvC,SACE,gBAAC2B,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAYxC,UAAWN,EAAQhB,MAAOqC,MAAM,gBAAgBkC,cAAY,EAAxE,SACGvE,IAGH,eAAC8D,GAAA,EAAD,CAAYxC,UAAWN,EAAQqC,IAAKhB,MAAM,gBAA1C,SACGnC,IAGH,eAACkC,GAAA,EAAD,CACEF,QAAQ,YACRG,MAAM,YACNf,UAAWN,EAAQpB,OACnB2C,UAAW,eAAC,KAAD,IACXwB,QAAS,kBAAMM,EAAarH,IAL9B,oBAUA,eAACoF,GAAA,EAAD,CACEF,QAAQ,YACRG,MAAM,UACNf,UAAWN,EAAQpB,OACnB4E,UAAWC,IACXC,GAAE,WAAM1H,EAAN,oBACF+G,QAAS,kBA3CE,SAAC/G,GACtB8B,EAASC,EAAc/B,IA0CE2H,CAAe3H,IANhC,uBAWE2D,GACA,eAACyB,GAAA,EAAD,CACEF,QAAQ,YACRG,MAAM,UACNf,UAAWN,EAAQpB,OACnB4E,UAAWC,IACXC,GAAE,WAAM1H,EAAN,cACF+G,QAAS,kBAnDN,SAAC/G,GAChB8B,EAASC,EAAc/B,IACvB8B,EAASE,KAiDkB4F,CAAS5H,IAN1B,yBAaP2D,GAAiB,eAAE8C,GAAF,OCpCToB,OAxCf,WACE,IAAM7D,EAAU9B,KACVJ,EAAWiC,cACX+D,EAAQjC,aAAY,SAAAnG,GAAK,OAAIA,EAAMD,aAAaL,gBAChDgE,EAAWC,cAEXM,EADe,IAAIF,gBAAgBL,EAASM,QACf5C,IAAI,UAMvC,OAJAiH,qBAAU,WACRjG,EAASD,OACR,CAACC,IAGF,uCACE,qBAAIwC,UAAWN,EAAQ+B,KAAvB,SACG+B,EAAMnB,KAAI,SAAA5G,GAAI,OACb,eAACqH,GAAD,CAEEpE,MAAOjD,EAAKiD,MACZE,KAAMnD,EAAKmD,KACXlD,GAAID,EAAKC,IAHJD,EAAKC,UAQd2D,GACA,eAACyB,GAAA,EAAD,CACEF,QAAQ,YACRZ,UAAWN,EAAQpB,OACnByC,MAAM,YACN0B,QAAS,kBAAMjF,EAASE,MAJ1B,0BASF,eAAC2D,GAAD,QC5BSqC,OAdf,WACE,OACE,uCACE,eAAC,IAAD,IACA,eAAC,IAAD,CACEC,OAAK,EACLC,KAAK,YACLV,UAAWK,KAEb,eAAC,IAAD,CAAUI,OAAK,EAACP,GAAG,UCHzBS,IAASC,OACP,eAAC,IAAD,CAAU/H,MAAOA,EAAjB,SACE,eAAC,IAAD,UACE,eAAC,GAAD,QAGJgI,SAASC,eAAe,W","file":"static/js/main.c3572edf.chunk.js","sourcesContent":["export const GET = 'posts/GET';\nexport const GET_COMMENTS = 'posts/GET_COMMENTS';\nexport const GET_POST_COMMENTS = 'comment/GET_POST_COMMENTS';\nexport const GET_POST = 'post/GET_POST';\nexport const SHOW_MODAL = 'modal/SHOW_MODAL';\nexport const HIDE_MODAL = 'modal/HIDE_MODAL';\n","import { GET, GET_POST } from '../types';\n\nconst initialState = {\n  fetchedPosts: []\n}\n\nexport const postsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GET:\n      return {\n        ...state,\n        fetchedPosts: action.payload\n      }\n    \n    case GET_POST:\n      return {\n        ...state,\n        fetchedPosts: state.fetchedPosts.filter(\n          post => post.id === action.payload\n        )\n      }\n  \n    default:\n      return state\n  }\n};\n","import { SHOW_MODAL, HIDE_MODAL } from '../types';\nconst initialState = {\n  hidden: false\n}\n\nexport const modalReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SHOW_MODAL:\n      return {\n        hidden: true\n      }\n\n    case HIDE_MODAL:\n      return {\n        hidden: false\n      }\n\n    default:\n      return state;\n  }\n};\n","import { GET_COMMENTS, GET_POST_COMMENTS } from '../types';\n\nconst initialState = {\n  fetchedComments: []\n}\n\nexport const commentsReducer = (state = initialState, action) => {\n  switch (action.type) {\n\n    case GET_COMMENTS:\n      return {\n        ...state,\n        fetchedComments: [...action.payload]\n      }\n    \n    case GET_POST_COMMENTS:\n      return {\n        ...state,\n        fetchedComments: state.fetchedComments.filter(\n          comment => comment.postId === +action.payload\n        )\n      }\n  \n    default:\n      return state\n  }\n};\n","import { combineReducers } from 'redux';\nimport { postsReducer } from './postsReducer';\nimport { modalReducer } from './modalReducer';\nimport { commentsReducer } from './commentsReducer';\n\n\nexport const blogApp = combineReducers({\n  postsReducer,\n  modalReducer,\n  commentsReducer\n});\n","import { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { blogApp } from './reducers/rootReducer';\nimport thunk from 'redux-thunk'\n\nexport const store = createStore(\n  blogApp,\n  composeWithDevTools(\n    applyMiddleware(thunk)\n  )\n);\n","import axios from \"axios\";\n\nexport const BASE_URL = 'https://bloggy-api.herokuapp.com/posts/';\n\nconst request = async() => {\n  const response = await axios.get(BASE_URL);\n  const { data } = response;\n\n  return data;\n}\n\nexport const getPosts = () => request();\n","import axios from \"axios\";\nexport const BASE_URL = 'https://bloggy-api.herokuapp.com/comments';\n\nconst request = async() => {\n  const response = await axios.get(BASE_URL);\n  const { data } = response;\n\n  return data;\n}\n\nexport const getComments = () => request();\n","import { BASE_URL } from './getPosts'\nimport axios from 'axios';\n\nconst deleteRequest = async (id) => {\n  return axios.delete(`${BASE_URL}${id}`);\n}\n\nexport const deletePost = id => deleteRequest(id);\n","import axios from 'axios';\nconst BASE_URL = 'https://bloggy-api.herokuapp.com/comments';\n\nconst deleteRequest = async (id) => {\n  return axios.delete(`${BASE_URL}/${id}`);\n};\n\nexport const deleteComment = id => deleteRequest(id);\n","import { BASE_URL } from './getPosts';\n\nimport axios from \"axios\";\n\nconst request = async (newPost) => {\n  return axios.post(BASE_URL, { ...newPost });\n};\n\nexport const createPost = (newPost) => request(newPost);\n","import axios from \"axios\";\nconst BASE_URL = 'https://bloggy-api.herokuapp.com/comments';\n\nconst request = async (newComment) => {\n  return axios.post(BASE_URL, { ...newComment });\n};\n\nexport const createComment = (newComment) => request(newComment);\n","import { BASE_URL } from './getPosts';\n\nimport axios from \"axios\";\n\nconst request = async(id, newPost) => {\n  return axios.put(`${BASE_URL}${id}`, { ...newPost });\n};\n\nexport const putPost = (id, newPost) => request(id, newPost);\n","\nimport {\n  GET,\n  GET_COMMENTS,\n  GET_POST,\n  GET_POST_COMMENTS\n} from '../types';\nimport { getPosts } from '../../API/getPosts';\nimport { getComments } from '../../API/getComments';\nimport { deletePost } from '../../API/deletePost';\nimport { deleteComment } from '../../API/deleteComment';\nimport { createPost } from '../../API/createPost';\nimport { createComment } from '../../API/createComment';\nimport { putPost } from '../../API/putPost';\n\n\nexport function updatePost(id, newPost) {\n  return async dispatch => {\n    await putPost(id, newPost);\n\n    const response = await getPosts();\n    \n    dispatch({\n      type: GET,\n      payload: response,\n    })\n  }\n};\n\nexport function fetchPosts() {\n  return async dispatch => {\n    const response = await getPosts();\n\n    dispatch({\n      type: GET,\n      payload: response,\n    })\n  }\n};\n\nexport function fetchPostById(id) {\n  return async dispatch => {\n    dispatch({\n      type: GET_POST,\n      payload: id\n    });\n\n    const response = await getComments();\n\n    dispatch({\n      type: GET_COMMENTS,\n      payload: response\n    })\n\n    dispatch({\n      type: GET_POST_COMMENTS,\n      payload: id\n    })\n  }\n};\n\nexport function deletePosts(id) {\n  return async dispatch => {\n    await deletePost(id);\n    const response = await getPosts();\n  \n    dispatch({\n      type: GET,\n      payload: response,\n    })\n  }\n};\n\nexport function deleteComments({id, postId}) {\n  return async dispatch => {\n    await deleteComment(id);\n    const responseAllComments = await getComments();\n    \n    dispatch({\n      type: GET_COMMENTS,\n      payload: responseAllComments,\n    })\n        \n    dispatch({\n      type: GET_POST_COMMENTS,\n      payload: postId,\n    })\n  }\n};\n\nexport function addPost(newPost) {\n  return async dispatch => {\n    await createPost(newPost);\n    const response = await getPosts();\n  \n    dispatch({\n      type: GET,\n      payload: response,\n    })\n  }\n};\n\nexport function addComment(newComment) {\n  return async dispatch => {\n    const { postId } = newComment;\n    await createComment(newComment);\n\n     const response = await getComments();\n\n    dispatch({\n      type: GET_COMMENTS,\n      payload: response\n    })\n\n    dispatch({\n      type: GET_POST_COMMENTS,\n      payload: postId\n    })\n  }\n};\n","import {SHOW_MODAL, HIDE_MODAL} from '../types';\n\nexport function showModal() {\n  return {\n    type: SHOW_MODAL\n  }\n};\n\nexport function hideModal() {\n  return {\n    type: HIDE_MODAL\n  }\n};","import { makeStyles } from '@material-ui/core/styles';\n\nexport const useStyles = makeStyles((theme) => ({\n  root: {\n    background: 'white',\n    padding: 50,\n    borderRadius: 15,\n\n    '& .MuiTextField-root': {\n      margin: theme.spacing(1),\n      width: 500,\n    },\n  },\n  button: {\n    display: 'flex',\n    margin: '0 auto'\n  }\n}));\n","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { addPost, addComment, updatePost} from '../../redux/actions/actionCreator';\nimport { hideModal} from '../../redux/actions/actionModal';\nimport { useLocation, useParams, useHistory } from 'react-router-dom';\nimport { useStyles } from './FormStyle';\nimport { toast } from 'react-toastify';\n\nimport 'react-toastify/dist/ReactToastify.css';\nimport TextField from '@material-ui/core/TextField';\nimport SaveIcon from '@material-ui/icons/Save';\nimport Button from '@material-ui/core/Button';\n\nexport function Form() {\n\n  \n  const [title, setTitle] = useState('');\n  const [body, setBody] = useState('');\n\n  const location = useLocation();\n  const history = useHistory()\n  const searchParams = new URLSearchParams(location.search);\n  const isOpenComment = searchParams.get('_embed');\n  const isEditPost = searchParams.get('post');\n  const match = useParams();\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  const onInputsChanged = (event) => {\n    const { name, value } = event.target;\n\n    switch (name) {\n      case 'title':\n        setTitle(value);\n        break;\n      \n      case 'body':\n        setBody(value)\n        break;\n      \n      default:\n        return;\n    }\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    setBody('');\n\n    if (isEditPost) {\n      toast.success('You have successfully updated your post');\n      dispatch(updatePost(+match.postId, { title, body }));\n      dispatch(hideModal());\n      history.push('/');\n      setTitle('');\n\n      return;\n    }\n    \n    if (isOpenComment && body) {\n      toast.success('You have successfully added your comment');\n      dispatch(addComment({ postId: +match.postId, body }));\n      dispatch(hideModal());\n\n      return;\n    };\n    \n    if (title && body) {\n      toast.success('You have successfully added your post');\n      dispatch(addPost({ title, body }));\n      dispatch(hideModal());\n      setTitle('');\n\n      return;\n    };\n\n    toast.warn('Upps you have forgotten to fill all fields')\n  };\n\n  return (\n    <form className={classes.root} noValidate autoComplete=\"off\" onSubmit={handleSubmit}>\n      {!isOpenComment &&\n        <div>\n          <TextField\n            label=\"Type your title\"\n            id=\"filled-size-normal\"\n            value={title}\n            name=\"title\"\n            variant=\"filled\"\n            onChange={onInputsChanged}\n          />\n        </div>\n      }\n\n      <div>\n        <TextField\n          label={!isOpenComment\n            ? \"Type your description\"\n            : \"Type your comment\"\n          }\n          id=\"filled-size-normal\"\n          value={body}\n          name=\"body\"\n          variant=\"filled\"\n          onChange={onInputsChanged}\n        />\n      </div>\n      <div>\n        <Button\n          className={classes.button}\n          variant=\"contained\"\n          color=\"primary\"\n          size=\"large\"\n          type=\"submit\"\n          startIcon={<SaveIcon />}\n        >\n          Save\n        </Button>\n      </div>\n    </form>\n  );\n};\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport const useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n  },\n}));","import React from 'react';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport { useSelector } from 'react-redux';\nimport { Form } from '../Form/Form';\nimport { useStyles } from './ModalStyle';\n\nexport function Modal() {\n  const classes = useStyles();\n  const open = useSelector(state => state.modalReducer.hidden);\n\n  return (\n    <Backdrop\n      className={classes.backdrop}\n      open={open}\n    >\n      <Form />\n    </Backdrop>\n  );\n};\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport const useStyles = makeStyles({\n  button: {\n    margin: '20px auto 0',\n    display: 'block'\n  },\n\n  list: {\n    margin: 0\n  }\n})","import { makeStyles } from '@material-ui/core/styles';\n\nexport const useStyles = makeStyles(theme => ({\n  root: {\n    minWidth: 275,\n  },\n\n  wrapper: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n  },\n    \n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n  item: {\n    listStyle: 'none'\n  },\n  button: {\n    margin: theme.spacing(1),\n  },\n}));","import React from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { deleteComments, fetchPosts } from '../../redux/actions/actionCreator'\nimport { Modal } from '../Modal';\nimport { showModal } from '../../redux/actions/actionModal';\nimport { useStyles } from './CommentsStyle';\n\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport Card from '@material-ui/core/Card';\nimport DeleteIcon  from '../../../node_modules/@material-ui/icons/Delete';\nimport Button from '@material-ui/core/Button';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\n\n\nexport function Comments() {\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const match = useParams()\n\n  const comments = useSelector(\n    state => state.commentsReducer.fetchedComments\n  );\n\n  const goMainPage = () => {\n    history.push('/');\n    dispatch(fetchPosts())\n  }\n\n  return (\n    <>\n      <ul>\n        {comments.map(comment => (\n          <li key={comment.id} className={classes.item}>\n            <Card className={classes.root} variant=\"outlined\">\n              <CardContent>\n\n                <Typography className={classes.pos} color=\"textSecondary\">\n                  {comment.body}\n                </Typography>\n\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  className={classes.button}\n                  startIcon={<DeleteIcon />}\n                  onClick={() => dispatch(deleteComments({\n                    id: comment.id,\n                    postId: +match.postId\n                  }))}\n                >\n                  Delete\n                </Button>\n              </CardContent>\n            </Card>\n          </li>\n        ))}\n      </ul>\n      <div className={classes.wrapper}>\n        <ButtonGroup\n          size=\"large\"\n          color=\"primary\"\n          aria-label=\"large outlined primary button group\"\n        >\n          <Button\n            onClick={() => dispatch(showModal())}\n          >\n            Add new comment\n          </Button>\n          <Button\n            onClick={goMainPage}\n          >\n            Main page\n          </Button>\n        </ButtonGroup>\n      </div>\n      <Modal />\n    </>\n  )\n}\n","import { makeStyles } from '@material-ui/core/styles';\n\n\nexport const useStyles = makeStyles(theme => ({\n  root: {\n    minWidth: 275,\n  },\n\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n  item: {\n    listStyle: 'none'\n  },\n  button: {\n    margin: theme.spacing(1),\n  },\n}));","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { deletePosts, fetchPostById } from '../../redux/actions/actionCreator';\nimport {  Link, useLocation, useHistory } from 'react-router-dom';\nimport { Comments } from '../Comments';\nimport { useStyles } from './PostStyle';\n\nimport Card from '@material-ui/core/Card';\nimport DeleteIcon  from '../../../node_modules/@material-ui/icons/Delete';\nimport Button from '@material-ui/core/Button';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport { showModal } from '../../redux/actions/actionModal';\n\nexport default function Post({\n  title,\n  body,\n  id\n}) {\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const isOpenComment = searchParams.get('_embed');\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const history = useHistory()\n\n  const handleComments = (id) => {\n    dispatch(fetchPostById(id));\n  }\n  \n  const editPost = (id) => {\n    dispatch(fetchPostById(id));\n    dispatch(showModal());\n  }\n\n  const handleDelete = (id) => {\n    dispatch(deletePosts(id));\n    history.push('/');\n  }\n\n  return (\n    <>\n      <li className={classes.item}>\n        <Card className={classes.root} variant=\"outlined\">\n          <CardContent>\n            <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\n              {title}\n            </Typography>\n\n            <Typography className={classes.pos} color=\"textSecondary\">\n              {body}\n            </Typography>\n\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              className={classes.button}\n              startIcon={<DeleteIcon />}\n              onClick={() => handleDelete(id)}\n            >\n              Delete\n            </Button>\n\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.button}\n              component={Link}\n              to={`/${id}?_embed=comments`}\n              onClick={() => handleComments(id)}\n            >\n              Comments\n            </Button>\n\n            {!isOpenComment &&\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.button}\n                component={Link}\n                to={`/${id}?post=edit`}\n                onClick={() => editPost(id)}\n              >\n                Edit\n              </Button>}\n          </CardContent>\n        </Card>\n      </li>\n      {isOpenComment && < Comments />}\n    </>\n  )\n};\n","import React, { useEffect } from 'react';\nimport {\n  useDispatch, useSelector } from 'react-redux';\nimport { useLocation } from 'react-router-dom'\nimport { fetchPosts } from '../../redux/actions/actionCreator';\nimport { showModal } from '../../redux/actions/actionModal';\nimport { Modal } from '../Modal';\nimport { useStyles } from './PostsStyle';\n\nimport Button from '@material-ui/core/Button';\nimport Post from '../Post';\n\nfunction Posts() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const posts = useSelector(state => state.postsReducer.fetchedPosts);\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const isOpenComment = searchParams.get('_embed');\n  \n  useEffect(() => {\n    dispatch(fetchPosts());\n  }, [dispatch]);\n\n  return (\n    <>\n      <ul className={classes.list}>\n        {posts.map(post => (\n          <Post\n            key={post.id}\n            title={post.title}\n            body={post.body}\n            id={post.id}\n          />\n        )\n        )}\n      </ul>\n      {!isOpenComment &&\n        <Button\n          variant=\"contained\"\n          className={classes.button}\n          color=\"secondary\"\n          onClick={() => dispatch(showModal())}\n        >\n          Add new post\n        </Button>\n      }\n      <Modal />\n    </>\n  )\n};\n\nexport default Posts;\n","import React from 'react';\nimport Posts from './components/Posts';\nimport { Redirect, Route } from 'react-router-dom'\nimport { ToastContainer } from 'react-toastify';\n\nfunction App() {\n  return (\n    <>\n      <ToastContainer />\n      <Route\n        exact\n        path='/:postId?'\n        component={Posts}\n      />\n      <Redirect exact to='/' />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './redux/store';\n\nimport './App.scss';\nimport App from './App';\n\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}