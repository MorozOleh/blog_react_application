(this["webpackJsonpblog-react-aplictation"]=this["webpackJsonpblog-react-aplictation"]||[]).push([[0],{116:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n(10),c=n.n(a),o=n(53),i=n(20),s=n(24),u=n(76),d=n(77),l=n(58),b="posts/GET",j="modal/SHOW_MODAL",p="modal/HIDE_MODAL",f={fetchedPosts:[]},O={hidden:!1},h=Object(s.combineReducers)({postReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case b:return Object(l.a)(Object(l.a)({},t),{},{fetchedPosts:e.payload});default:return t}},modalReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j:return{hidden:!0};case p:return{hidden:!1};default:return t}}}),m=Object(s.createStore)(h,Object(u.composeWithDevTools)(Object(s.applyMiddleware)(d.a))),v=(n(93),n(152)),x=n(155),y=n(78),g=n.n(y),w=n(160),k=n(157),S=n(158),N=n(21),z=n.n(N),I=n(33),D=n(48),R=n.n(D),C="https://bloggy-api.herokuapp.com/posts",E=function(){var t=Object(I.a)(z.a.mark((function t(){var e,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.a.get(C);case 2:return e=t.sent,n=e.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),M=function(){return E()},A=function(){var t=Object(I.a)(z.a.mark((function t(e){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.a.delete("".concat(C,"/").concat(e));case 2:return n=t.sent,r=n.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),B=function(t){return A(t)};var P=n(6),T=Object(v.a)((function(t){return{root:{minWidth:275},title:{fontSize:14},pos:{marginBottom:12},item:{listStyle:"none"},button:{margin:t.spacing(1)}}}));function W(t){var e=t.title,n=t.body,r=t.id,a=Object(i.b)(),c=T();return Object(P.jsx)("li",{className:c.item,children:Object(P.jsx)(x.a,{className:c.root,variant:"outlined",children:Object(P.jsxs)(k.a,{children:[Object(P.jsx)(S.a,{className:c.title,color:"textSecondary",gutterBottom:!0,children:e}),Object(P.jsx)(S.a,{className:c.pos,color:"textSecondary",children:n}),Object(P.jsx)(w.a,{variant:"contained",color:"secondary",className:c.button,startIcon:Object(P.jsx)(g.a,{}),onClick:function(){return a(function(t){return function(){var e=Object(I.a)(z.a.mark((function e(n){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t);case 2:return e.next=4,M();case 4:r=e.sent,n({type:b,payload:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(r))},children:"Delete"})]})})})}var F=n(161),H=n(57),J=n(159),L=n(79),_=n.n(L),G=Object(v.a)((function(t){return{root:{background:"white",padding:50,borderRadius:15,"& .MuiTextField-root":{margin:t.spacing(1),width:500}},button:{display:"flex",margin:"0 auto"}}}));function V(){var t=Object(i.b)(),e=Object(r.useState)(""),n=Object(H.a)(e,2),a=n[0],c=n[1],o=Object(r.useState)(""),s=Object(H.a)(o,2),u=s[0],d=s[1],l=G(),b=function(t){var e=t.target,n=e.name,r=e.value;switch(n){case"title":c(r);break;case"body":d(r);break;default:return}};return Object(P.jsxs)("form",{className:l.root,noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),t({type:p})},children:[Object(P.jsx)("div",{children:Object(P.jsx)(J.a,{label:"Size",id:"filled-size-normal",value:a,name:"title",variant:"filled",onChange:b})}),Object(P.jsx)("div",{children:Object(P.jsx)(J.a,{label:"Size",id:"filled-size-normal",value:u,name:"body",onChange:b,variant:"filled"})}),Object(P.jsx)("div",{children:Object(P.jsx)(w.a,{variant:"contained",color:"primary",size:"large",type:"submit",className:l.button,startIcon:Object(P.jsx)(_.a,{}),children:"Save"})})]})}var q=Object(v.a)((function(t){return{backdrop:{zIndex:t.zIndex.drawer+1,color:"#fff"}}}));function K(){var t=q(),e=Object(i.c)((function(t){return t.modalReducer.hidden}));return Object(P.jsx)("div",{children:Object(P.jsx)(F.a,{className:t.backdrop,open:e,children:Object(P.jsx)(V,{})})})}var Q=Object(v.a)({button:{margin:"0 auto",display:"block"},list:{margin:0}});var U=function(){var t=Object(i.b)(),e=Q(),n=Object(i.c)((function(t){return t.postReducer.fetchedPosts}));return Object(r.useEffect)((function(){return t(function(){var t=Object(I.a)(z.a.mark((function t(e){var n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M();case 2:n=t.sent,e({type:b,payload:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("ul",{className:e.list,children:n.map((function(t){return Object(P.jsx)(W,{title:t.title,body:t.body,id:t.id},t.id)}))}),Object(P.jsx)(w.a,{variant:"contained",className:e.button,color:"secondary",onClick:function(){return t({type:j})},children:"Add new post"}),Object(P.jsx)(K,{})]})},X=n(12);var Y=function(){return Object(P.jsx)(X.a,{exact:!0,path:"/:postId?",component:U})};c.a.render(Object(P.jsx)(i.a,{store:m,children:Object(P.jsx)(o.a,{children:Object(P.jsx)(Y,{})})}),document.getElementById("root"))},93:function(t,e,n){}},[[116,1,2]]]);
//# sourceMappingURL=main.dfae90f4.chunk.js.map